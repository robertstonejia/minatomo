<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>みんなの日中交流会</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="weather-bar" id="weather-bar">
            <span class="weather-loading">天気情報を取得中...</span>
        </div>
        <header>
            <h1>みんなの日中交流会</h1>
            <span class="sakura sakura1">🌸</span>
            <span class="sakura sakura2">🌸</span>
            <span class="sakura sakura3">🌸</span>
            <span class="sakura sakura4">🌸</span>
            <span class="sakura sakura5">🌸</span>
        </header>

        <main>
            <section class="event-info">
                <h2>イベント情報</h2>
                <div class="info-card">
                    <div class="info-item">
                        <span class="label">主催場所：</span>
                        <span class="value">西池袋公園（東京都豊島区西池袋3-20-1）<br>
                        ※池袋西口公園ではありません(<span class="red-x">✖</span>)</span>
                    </div>
                    <div class="info-item">
                        <span class="label">主催時間：</span>
                        <span class="value">土曜日 午後2時〜5時</span>
                    </div>
                    <div class="info-item">
                        <span class="label">アクセス：</span>
                        <span class="value">池袋駅西口（C2/C3出口）より徒歩約7分</span>
                    </div>
                    <div class="info-item">
                        <span class="label">地図：</span>
                        <span class="value"><a href="https://maps.app.goo.gl/dvnUcDbs3QBi44Vp9" target="_blank" style="color: #e74c3c; text-decoration: underline;">Google Mapsで見る</a></span>
                    </div>
                </div>
            </section>

            <section class="how-to-join">
                <h2>参加方法</h2>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <h3>直接お越しください</h3>
                        <p>予約不要です。開催時間内に西池袋公園へお越しください。</p>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <h3>スタッフに声をかける</h3>
                        <p>公園内でスタッフを見つけて、お気軽に声をかけてください。</p>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <h3>自由に交流</h3>
                        <p>参加者同士で自由に会話を楽しんでください。</p>
                    </div>
                </div>
                <div class="participation-note">
                    <p><strong>参加費：</strong>無料</p>
                    <p><strong>持ち物：</strong>特にありません。メモ用紙をご用意いただくことをお勧めします。</p>
                </div>
            </section>

            <section class="ideal-for">
                <h2>こんな方におすすめ</h2>
                <div class="ideal-grid">
                    <div class="ideal-card">
                        <div class="icon">🗣️</div>
                        <h3>語学を学びたい方</h3>
                        <p>日本語や中国語を実践的に学びたい方</p>
                    </div>
                    <div class="ideal-card">
                        <div class="icon">👥</div>
                        <h3>友達を作りたい方</h3>
                        <p>日中の友人を作りたい方</p>
                    </div>
                    <div class="ideal-card">
                        <div class="icon">🌏</div>
                        <h3 style="white-space: nowrap;">文化交流に興味がある方</h3>
                        <p>異文化を体験したい方</p>
                    </div>
                    <div class="ideal-card">
                        <div class="icon">🎓</div>
                        <h3>留学生の方</h3>
                        <p>日本で生活する中国人留学生や日本人学生</p>
                    </div>
                    <div class="ideal-card">
                        <div class="icon">💼</div>
                        <h3>ビジネス関係者</h3>
                        <p>日中ビジネスに関わる方</p>
                    </div>
                    <div class="ideal-card">
                        <div class="icon">😊</div>
                        <h3>初心者の方も歓迎</h3>
                        <p>言葉に自信がなくても大丈夫です</p>
                    </div>
                </div>
            </section>

            <section class="links">
                <h2>関連リンク</h2>
                <div class="link-grid">
                    <div class="link-card">
                        <h3>日曜日漢語角</h3>
                        <p>毎週日曜日の中国語交流会</p>
                        <a href="http://hyj.duan.jp/" target="_blank" class="btn">詳しく見る</a>
                    </div>

                    <div class="link-card">
                        <h3>中国大使館</h3>
                        <p>在日中国大使館公式サイト</p>
                        <a href="https://jp.china-embassy.gov.cn/jpn/" target="_blank" class="btn">サイトへ</a>
                    </div>

                    <div class="link-card">
                        <h3>採用情報</h3>
                        <p style="white-space: nowrap;">高度人材加点対応企業特集あり</p>
                        <a href="https://seekjob.jp" target="_blank" class="btn">求人を見る</a>
                    </div>

                    <div class="link-card">
                        <h3>在留手続</h3>
                        <p>出入国在留管理庁の手続案内</p>
                        <a href="https://www.moj.go.jp/isa/applications/index.html" target="_blank" class="btn">詳しく見る</a>
                    </div>
                </div>
            </section>

            <section class="about">
                <h2>交流会について</h2>
                <p>
                    みんなの日中交流会は、日本人と中国人が気軽に交流できる場所を提供しています。
                    西池袋公園で毎週土曜日に開催しており、どなたでも参加できます。
                </p>
            </section>
        </main>

        <footer>
            <p>&copy; 2024 みんなの日中交流会</p>
        </footer>
    </div>

    <script>
        // 天気コードから天気アイコンと説明を取得
        function getWeatherInfo(code) {
            const weatherCodes = {
                0: { icon: '☀️', desc: '快晴' },
                1: { icon: '🌤️', desc: '晴れ' },
                2: { icon: '⛅', desc: 'くもり時々晴れ' },
                3: { icon: '☁️', desc: 'くもり' },
                45: { icon: '🌫️', desc: '霧' },
                48: { icon: '🌫️', desc: '霧氷' },
                51: { icon: '🌧️', desc: '小雨' },
                53: { icon: '🌧️', desc: '雨' },
                55: { icon: '🌧️', desc: '強い雨' },
                56: { icon: '🌧️', desc: '凍る霧雨' },
                57: { icon: '🌧️', desc: '凍る霧雨' },
                61: { icon: '🌧️', desc: '小雨' },
                63: { icon: '🌧️', desc: '雨' },
                65: { icon: '🌧️', desc: '大雨' },
                66: { icon: '🌧️', desc: '凍る雨' },
                67: { icon: '🌧️', desc: '凍る大雨' },
                71: { icon: '🌨️', desc: '小雪' },
                73: { icon: '🌨️', desc: '雪' },
                75: { icon: '🌨️', desc: '大雪' },
                77: { icon: '🌨️', desc: '霧雪' },
                80: { icon: '🌦️', desc: 'にわか雨' },
                81: { icon: '🌦️', desc: 'にわか雨' },
                82: { icon: '⛈️', desc: '激しいにわか雨' },
                85: { icon: '🌨️', desc: 'にわか雪' },
                86: { icon: '🌨️', desc: '激しいにわか雪' },
                95: { icon: '⛈️', desc: '雷雨' },
                96: { icon: '⛈️', desc: '雷雨（雹）' },
                99: { icon: '⛈️', desc: '激しい雷雨（雹）' }
            };
            return weatherCodes[code] || { icon: '🌡️', desc: '不明' };
        }

        // 池袋の天気を取得
        async function fetchWeather() {
            const lat = 35.7295;
            const lon = 139.7109;
            const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,weather_code,relative_humidity_2m&timezone=Asia/Tokyo`;

            try {
                const response = await fetch(url);
                const data = await response.json();
                const current = data.current;
                const weatherInfo = getWeatherInfo(current.weather_code);

                const weatherBar = document.getElementById('weather-bar');
                weatherBar.innerHTML = `
                    <span class="weather-location">📍 池袋</span>
                    <span class="weather-icon">${weatherInfo.icon}</span>
                    <span class="weather-temp">${Math.round(current.temperature_2m)}°C</span>
                    <span class="weather-desc">${weatherInfo.desc}</span>
                    <span class="weather-humidity">💧${current.relative_humidity_2m}%</span>
                `;
            } catch (error) {
                const weatherBar = document.getElementById('weather-bar');
                weatherBar.innerHTML = '<span class="weather-error">天気情報を取得できませんでした</span>';
            }
        }

        // ページ読み込み時に天気を取得
        fetchWeather();
        // 10分ごとに更新
        setInterval(fetchWeather, 600000);
    </script>
</body>
</html>
